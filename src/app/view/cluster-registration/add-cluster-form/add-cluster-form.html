<div class="add-cluster-form">
  <h2 translate>Register Cluster</h2>
  <p translate>Enter the cluster API endpoint URL and name</p>
  <form name="addClusterFormCtrl.addClusterForm" ng-submit="addClusterFormCtrl.addCluster()">
    <div class="form-group" focusable-input
      ng-class="{'has-error': addClusterFormCtrl.addClusterForm.url.$invalid && addClusterFormCtrl.addClusterForm.url.$dirty}">
      <label class="control-label" translate>Cluster URL</label>
      <span class="control-message">
        <span translate
              ng-if="addClusterFormCtrl.addClusterForm.url.$error.pattern && addClusterFormCtrl.addClusterForm.url.$dirty">
          Invalid url format
        </span>
        <span translate
              ng-if="addClusterFormCtrl.addClusterForm.url.$error.helionUnique && addClusterFormCtrl.addClusterForm.url.$dirty">
          Url is not unique
        </span>
      </span>
      <input type="text" name="url" class="form-control" ng-model="addClusterFormCtrl.url"
        ng-pattern="/^http(s)?://api\.(.)+$/" required
        helion-unique items="addClusterFormCtrl.existingApiEndpoints" ignore-case/>
    </div>
    <div class="form-group" focusable-input>
      <label class="control-label" translate>Cluster Name</label>
      <input type="text" class="form-control" ng-model="addClusterFormCtrl.name" required/>
    </div>
    <div class="form-actions">
      <button type="button" class="btn btn-default"
        ng-click="addClusterFormCtrl.cancel()" translate>Cancel</button>
      <button type="submit" class="btn btn-primary"
        ng-disabled="addClusterFormCtrl.addClusterForm.$invalid" translate>Register</button>
    </div>
  </form>
  <div ng-if="addClusterFormCtrl.addClusterError" class="alert alert-danger">
    <p translate>
      There was a problem adding this cluster. Please try again. If this error persists, please contact the administrator.
    </p>
  </div>
</div>
