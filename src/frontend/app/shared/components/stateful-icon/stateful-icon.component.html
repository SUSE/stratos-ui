<div class="stateful-icon" *ngIf="selectedState">
  <span *ngIf="isTemplate(selectedState)">
    <ng-container *ngTemplateOutlet="selectedState.template"></ng-container>
  </span>
  <mat-icon *ngIf="!isTemplate(selectedState)" [color]="selectedState.color">{{ selectedState.icon }}</mat-icon>
</div>

<ng-template #spinner>
  <mat-spinner diameter="20"></mat-spinner>
</ng-template>
